const container=document.querySelector(".container"),videosWow=document.querySelectorAll('[data-video-type="wow"]'),videoAudioOverlays=document.querySelectorAll("videoAudioOverlay"),playPauses=document.querySelectorAll(".play-pause");let volumeValue=50;const audioSpeakers=document.querySelectorAll(".audio-speaker"),audioLevelsContainer=document.querySelector(".audio-levels-container"),urlSearchParams=new URLSearchParams(window.location.search),params=Object.fromEntries(urlSearchParams.entries());function isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent)}function getElementVisibility(e){let t=e.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight,l=window.innerWidth||document.documentElement.clientWidth,o=Math.max(0,Math.min(t.bottom,a)-Math.max(t.top,0)),i=Math.max(0,Math.min(t.right,l)-Math.max(t.left,0)),r=t.width*t.height;return r>0?i*o/r*100:0}function volumeChange(e){console.log("value: "+e),volumeValue=e,console.log("Current slider value:",volumeValue),videosWow.forEach(e=>{let t=e.parentElement.querySelector(".audio-levels");t.value=volumeValue,inViewport=getElementVisibility(e),e.volume=.01*inViewport*(.01*volumeValue),console.log("video.volume: "+e.volume)})}videosWow.forEach(e=>{e.volume=0,e.addEventListener("mouseover",e=>{videosWow.forEach(e=>{let t=e.parentElement.querySelector(".audio-levels");t.classList.add("opacity-0")})}),e.addEventListener("click",e=>{videosWow.forEach(e=>{let t=e.parentElement.querySelector(".videoAudioOverlay"),a=e.parentElement.querySelector('[data-id="waves"]');e.muted?(e.muted=!1,t.classList.add("opacity-0"),a.classList.remove("opacity-0")):(e.muted=!0,t.classList.remove("opacity-0"),a.classList.add("opacity-0"));let l=e.parentElement.querySelector(".play-pause"),o=l.querySelector(".play"),i=l.querySelector(".pause"),r=o.classList.contains("opacity-0");r||(e.play(),t.classList.add("opacity-0"),o.classList.add("opacity-0"),i.classList.remove("opacity-0"))})})}),document.addEventListener("scroll",e=>{videosWow.forEach(e=>{let t=e.parentElement.querySelector(".audio-levels");t.classList.add("opacity-0"),inViewport=getElementVisibility(e),e.volume=.01*inViewport*(.01*volumeValue);let a=e.parentElement.querySelector(".play"),l=a.classList.contains("opacity-0");l&&e.play()})}),Array.from(playPauses).forEach(e=>{e.addEventListener("mouseover",e=>{if(!isMobile()){let t=e.currentTarget.querySelector(".play"),a=t.classList.contains("opacity-0");console.log("isVideoPlaying: "+a);let l=a?"Pause":"Play",o=e.currentTarget.parentElement.querySelector(".tooltiptext");o.textContent=l,o.classList.add("visibility")}}),e.addEventListener("mousemove",e=>{if(!isMobile()){let t=e.currentTarget.querySelector(".play"),a=t.classList.contains("opacity-0"),l=a?"Pause":"Play",o=e.currentTarget.parentElement.querySelector(".tooltiptext");o.textContent=l;let i=e.currentTarget.parentElement.querySelector('[data-video-type="wow"]'),r=i.getBoundingClientRect(),s=e.clientX-r.left,c=e.clientY-r.top;o.style.top=c+20+"px",o.style.left=s-50+"px"}}),e.addEventListener("mouseout",e=>{if(!isMobile()){let t=e.currentTarget.parentElement.querySelector(".tooltiptext");t.classList.remove("visibility")}}),e.addEventListener("click",e=>{let t=e.currentTarget.querySelector(".play"),a=t.classList.contains("opacity-0");if(console.log("isVideoPlaying: "+a),!isMobile()){let l=a?"Play":"Pause",o=e.currentTarget.parentElement.querySelector(".tooltiptext");o.textContent=l}videosWow.forEach(e=>{let t=e.parentElement.querySelector(".play-pause"),l=t.querySelector(".play"),o=t.querySelector(".pause"),i=e.parentElement.querySelector(".videoAudioOverlay"),r=e.parentElement.querySelector('[data-id="waves"]'),s=e.parentElement.querySelector(".audio-levels");a?(e.pause(),i.classList.remove("opacity-0"),l.classList.remove("opacity-0"),o.classList.add("opacity-0"),e.muted=!0,i.classList.remove("opacity-0"),r.classList.add("opacity-0"),isMobile()||s.classList.add("opacity-0")):(e.play(),i.classList.add("opacity-0"),l.classList.add("opacity-0"),o.classList.remove("opacity-0"),e.muted=!1,i.classList.add("opacity-0"),isMobile()||s.classList.remove("opacity-0"))})})}),Array.from(audioSpeakers).forEach(e=>{e.addEventListener("mouseover",e=>{if(!isMobile()){let t=e.currentTarget.parentElement.querySelector('[data-video-type="wow"]'),a=t.muted?"Unmute":"Mute",l=e.currentTarget.parentElement.querySelector(".tooltiptext");l.textContent=a,l.classList.add("visibility")}}),e.addEventListener("mousemove",e=>{if(!isMobile()){let t=e.currentTarget.parentElement.querySelector('[data-video-type="wow"]'),a=t.muted?"Unmute":"Mute",l=e.currentTarget.parentElement.querySelector(".tooltiptext");l.textContent=a;let o=t.getBoundingClientRect(),i=e.clientX-o.left,r=e.clientY-o.top;l.style.top=r+20+"px",l.style.left=i-50+"px"}}),e.addEventListener("mouseout",e=>{if(!isMobile()){let t=e.currentTarget.parentElement.querySelector(".tooltiptext");t.classList.remove("visibility")}}),e.addEventListener("click",e=>{if(!isMobile()){let t=e.currentTarget.parentElement.querySelector('[data-video-type="wow"]'),a=t.muted?"Mute":"Unmute",l=e.currentTarget.parentElement.querySelector(".tooltiptext");l.textContent=a}videosWow.forEach(e=>{let t=e.parentElement.querySelector(".videoAudioOverlay"),a=e.parentElement.querySelector('[data-id="waves"]'),l=e.parentElement.querySelector(".audio-levels"),o=e.parentElement.querySelector(".play-pause"),i=o.querySelector(".play"),r=o.querySelector(".pause");e.muted?(e.muted=!1,t.classList.add("opacity-0"),a.classList.remove("opacity-0"),isMobile()||l.classList.remove("opacity-0"),e.play(),t.classList.add("opacity-0"),i.classList.add("opacity-0"),r.classList.remove("opacity-0")):(e.muted=!0,t.classList.remove("opacity-0"),a.classList.add("opacity-0"),l.classList.add("opacity-0"))})}),e.addEventListener("mouseover",e=>{let t=e.currentTarget.querySelector('[data-id="waves"]'),a=e.currentTarget.parentElement.querySelector(".audio-levels");t.classList.contains("opacity-0")||isMobile()||a.classList.remove("opacity-0")})});