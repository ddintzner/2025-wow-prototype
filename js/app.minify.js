const videosWow=document.querySelectorAll('[data-video-type="wow"]'),videoAudioOverlays=document.querySelectorAll("videoAudioOverlay"),volumeSlider=document.getElementById("volume");let volumeValue=volumeSlider.value;const urlSearchParams=new URLSearchParams(window.location.search),params=Object.fromEntries(urlSearchParams.entries());function getElementVisibility(e){const t=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,l=Math.max(0,Math.min(t.bottom,o)-Math.max(t.top,0)),n=Math.max(0,Math.min(t.right,i)-Math.max(t.left,0)),a=t.width*t.height;return a>0?n*l/a*100:0}void 0!==params.volumebar&&(document.getElementById("content-audio-controls").style.display="flex"),volumeSlider.addEventListener("input",(function(){volumeValue=this.value,console.log("Current slider value:",volumeValue),videosWow.forEach((e=>{inViewport=getElementVisibility(e),e.volume=.01*inViewport*(.01*volumeValue),console.log("video.volume: "+e.volume),e.muted=!1;e.previousElementSibling.classList.add("opacity-0")}))})),videosWow.forEach((e=>{e.volume=0,e.addEventListener("click",(e=>{videosWow.forEach((e=>{const t=e.previousElementSibling;e.muted?(e.muted=!1,t.classList.add("opacity-0")):(e.muted=!0,t.classList.remove("opacity-0"))}))}))})),document.addEventListener("scroll",(e=>{videosWow.forEach((e=>{inViewport=getElementVisibility(e),e.volume=.01*inViewport*(.01*volumeValue),e.play()}))}));